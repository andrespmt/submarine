<!doctype html>
<html lang="en-US" ontouchmove >  <!-- this is the fix for hover in touch screens -->
<html lang="en-US"> 
  <head>
    <title>submarine study </title>
    <meta charset="utf-8" />
    <meta name="description" content="submarine controls">
    <meta name="keywords" content="UCLA, submarine">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/mainCSS.css">
    <script type = "text/javascript" src="scripts/code.js"></script>
  </head>
 
  <body>
    <hr class="fine">
    <nav id="nav_menu" class="clearfix">
      <ul>
        <li><a href="index.html" class="current">Controls</a></li>
        <li><a href="about.html">Info</a></li>
      </ul>
    </nav>
    <hr class="fine">

    <div class="row">
      <!-- This section corresponds to the LEFT side of the screen-->
      <!-- These are system requirements (INPUTS)                 -->
      <div class="column_L" >
        <h1>System parameters</h1>
        <p class="instructions">These settings are the system definition, once the submarine is built they will be static. After setting the parameters click "start" to begin</p>
        
        <table  class="input">
          <tr>
            <td>Tank Volume</td>
            <td><input type="number" id="tank_volume" value="36" onchange="convert_to_liters('tank_volume','tank_volume_l')"></td>
            <td>in<sup>3</sup></td>
            <td>==></td>
            <td><output type="text" id="tank_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>
            <td>Tank max pressure</th>
            <td><input type="number" id="tank_max_pressure" value="3000" onchange="convert_to_atm('tank_max_pressure','tank_max_pressure_atm')"></td>
            <td>PSI</td>
            <td>==></td>
            <td><output type="text" id="tank_max_pressure_atm" >--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td>Tank min pressure</th>
            <td><input type="number" id="tank_min_pressure" value="60" onchange="convert_to_atm('tank_min_pressure','tank_min_pressure_atm')"></td>
            <td>PSI</td>
            <td>==></td>
            <td><output type="text" id="tank_min_pressure_atm" >--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td>Regulator pressure</th>
            <td><input type="number" id="regulator_pressure" value="100" onchange="convert_to_atm('regulator_pressure','regulator_pressure_atm')"></td>
            <td>PSI</td>
            <td>==></td>
            <td><output type="text" id="regulator_pressure_atm" >--</output></td>
            <td>atm</td>
          </tr>
          <tr>   
            <td>Tube diameter</th>
            <td><input type="number" id="tube_diameter" value="1"></td>
            <td>in</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>   
            <td>Tube L1 length</th>
            <td><input type="number" id="tube_L1_length" value="10" onclick="convert_tube_to_liters('tube_diameter','tube_L1_length','tube_L1_volume_l')"></td>
            <td>in</td>
            <td>==></td>
            <td><output type="text" id="tube_L1_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td>Tube L2 length</th>
            <td><input type="number" id="tube_L2_length" value="15" onclick="convert_tube_to_liters('tube_diameter','tube_L2_length','tube_L2_volume_l')"></td>
            <td>in</td>
            <td>==></td>
            <td><output type="text" id="tube_L2_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td>Tube L3 length</th>
            <td><input type="number" id="tube_L3_length" value="15" onclick="convert_tube_to_liters('tube_diameter','tube_L3_length','tube_L3_volume_l')"></td>
            <td>in</td>
            <td>==></td>
            <td><output type="text" id="tube_L3_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>
            <td>Actuator volume</th>
            <td><input type="number" id="actuator_volume" value="5" onclick="convert_to_liters('actuator_volume','actuator_volume_l')"></td>
            <td>in<sup>3</sup></td>
            <td>==></td>
            <td><output type="text" id="actuator_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>
            <td>Actuator max PSI</th>
            <td><input type="number" id="actuator_max_pressure" value="250" onclick="convert_to_atm('actuator_max_pressure','actuator_max_pressure_atm')"></td>
            <td>PSI</td>
            <td>==></td>
            <td><output type="text" id="actuator_max_pressure_atm" >--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td></td>
            <td>
              <button id="btn_def" onclick="set_defaults()">Default</button>
              <button id="btn_apply" onclick="start()">Start</button>
          </td>
          </tr>
        </table>
        
        <!-- Entry parameters that may change during the exercise -->
        <h1>Variable conditions</h1>
        <p class="instructions"> These settings are variable and they may change while in operation.</p>
      
        <table class="input">
          <tr>
            <td>
              Temperature
            </td>
            <td>          
              <input type="range" id="temperature_range_c" list="temperature_scale" min="0" max="50" value="25" oninput="temperature_change()">
              <datalist id="temperature_scale">
                <option value="0" label="0"></option>
                <option value="10" label="10"></option>
                <option value="20" label="20"></option>
                <option value="30" label="30"></option>
                <option value="40" label="40"></option>
                <option value="50" label="50"></option>
              </datalist>
            </td>
            <td><output id="temperature_input_c">25</output> C<sup>o</sup></td>
            <td> ==></td>
            <td><output type="text" id="temperature_input_k" >--</output></td>
            <td>K</td>
            <td>
              <button id="temperature_reset" onclick="temperature_reset()">Reset</button> 
            </td>
          </tr>
        </table>
        
        <h1>Robot actuators</h1>
        <p class="instructions"> Press "start" to activate the controls.</p>
        <p>
          <button class="b_big" disabled="disabled" id="btn_torpedo"  onclick="launch_torpedo()">Launch torpedo</button>
          <button class="b_big" disabled="disabled" id="btn_arm"  onclick="move_arm()">Move arm</button>
          <button class="b_big" disabled="disabled" id="btn_claw"  onclick="move_claw()">Move claw</button>
        </p>
      </div>

      <!-- This section corresponds to 2 column : MODEL A -->
      <!-- These are system requirements (OUTPUTS)        -->
      <div class="column_R" style="margin-left: 2%;">
        <h1>Model A: No regulator<br>PSI actuator</h1>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- TANK initial conditions ---</th></tr>    
          <tr>
            <td>Tank volume</th>
            <td><output type="text" id="initial_tank_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td>Initial pressure</td>
            <td><output type="text" id="initial_tank_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_tank_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td><b>Initial compressed air</b></th>
            <td><b><output type="text" id="initial_tank_air_mol" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
          
        <!-- System initial conditions (tank + pneumatic circuit) -->
        <table class="output">
          <tr><th colspan="3">--- TANK_L1 initial conditions  ---</th></tr>    
          <tr>
            <td>Tank_L1 volume</th>
            <td><output type="text" id="initial_tank_L1_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td><b>Tank_L1 pressure</b></td>
            <td><b><output type="text" id="initial_tank_L1_pressure_atm">--</output></b></td>
            <td><b>atm</b></td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_system_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td>Initial compressed air</th>
            <td><output type="text" id="initial_tank_L1_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>
            <td>Initial movements</td>
            <td><output type="text" id="initial_total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- Actuator mol loss ---</th></tr>    
          <tr>
            <td><b>Actuator mol loss</b></th>
            <td><b><output type="text" id="actuator_mol_loss" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
          
        <!-- Remaining information -->
        <table class="output">
          <tr><th colspan="3">--- REMAINING ---</th></tr>
          <tr>
            <td>Remaining compressed air</th>
            <td><output type="text" id="remaining_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>   
            <td>Remaining pressure</td>
            <td><output type="text" id="remaining_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td>Remaining movements</td>
            <td><output type="text" id="remaining_mov" >--</output></td>
            <td></td>
          </tr>
          <tr>
            <td>Total movements done</td>
            <td><output type="text" id="total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>
        
        <!-- Movement ststs -->
        <table class="output">
          <tr><th colspan="3">--- STATS ---</th></tr>
          <tr>
            <td>Torpedo launches</td>
            <td><output type="text" id="torpedo_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Arm movements</td>
            <td><output type="text" id="arm_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Claw moves</td>
            <td><output type="text" id="claw_count"> 0 </output></td>
            <td></td>
          </tr>
        </table>
      </div>

      <!-- This section corresponds to 3 column : MODEL B -->
      <!-- These are system requirements (OUTPUTS)        -->
      <div class="column_R">
    
        <h1>Model B: No regulator<br>PSI TANK</h1>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- TANK initial conditions ---</th></tr>    
          <tr>
            <td>Tank volume</th>
            <td><output type="text" id="initial_tank_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td>Initial pressure</td>
            <td><output type="text" id="initial_tank_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_tank_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td><b>Initial compressed air</b></th>
            <td><b><output type="text" id="initial_tank_air_mol" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
        
        <!-- System initial conditions (tank + pneumatic circuit) -->
        <table class="output">
          <tr><th colspan="3">--- TANK_L1 initial conditions  ---</th></tr>    
          <tr>
            <td>Tank_L1 volume</th>
            <td><output type="text" id="initial_tank_L1_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td><b>Tank_L1 pressure</b></td>
            <td><b><output type="text" id="initial_tank_L1_pressure_atm">--</output></b></td>
            <td><b>atm</b></td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_system_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td>Initial compressed air</th>
            <td><output type="text" id="initial_tank_L1_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>
            <td>Initial movements</td>
            <td><output type="text" id="initial_total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- Actuator mol loss ---</th></tr>    
          <tr>
            <td><b>Actuator mol loss</b></th>
            <td><b><output type="text" id="actuator_mol_loss" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
        
        <!-- Remaining information -->
        <table class="output">
          <tr><th colspan="3">--- REMAINING ---</th></tr>
          <tr>
            <td>Remaining compressed air</th>
            <td><output type="text" id="remaining_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>   
            <td>Remaining pressure</td>
            <td><output type="text" id="remaining_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td>Remaining movements</td>
            <td><output type="text" id="remaining_mov" >--</output></td>
            <td></td>
          </tr>
          <tr>
            <td>Total movements done</td>
            <td><output type="text" id="total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>
        
        <!-- Movement ststs -->
        <table class="output">
          <tr><th colspan="3">--- STATS ---</th></tr>
          <tr>
            <td>Torpedo launches</td>
            <td><output type="text" id="torpedo_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Arm movements</td>
            <td><output type="text" id="arm_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Claw moves</td>
            <td><output type="text" id="claw_count"> 0 </output></td>
            <td></td>
          </tr>
        </table>  
      </div>

      <!-- This section corresponds to 4 column : MODEL C -->
      <!-- These are system requirements (OUTPUTS)        -->
      <div class="column_R">
        <h1>Model C: Regulator<BR>PSI regulator</h1>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- TANK initial conditions ---</th></tr>    
          <tr>
            <td>Tank volume</th>
            <td><output type="text" id="initial_tank_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td>Initial pressure</td>
            <td><output type="text" id="initial_tank_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_tank_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td><b>Initial compressed air</b></th>
            <td><b><output type="text" id="initial_tank_air_mol" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
        
        <!-- System initial conditions (tank + pneumatic circuit) -->
        <table class="output">
          <tr><th colspan="3">--- TANK_L1 initial conditions  ---</th></tr>    
          <tr>
            <td>Tank_L1 volume</th>
            <td><output type="text" id="initial_tank_L1_volume_l" >--</output></td>
            <td>liters</td>
          </tr>
          <tr>   
            <td><b>Tank_L1 pressure</b></td>
            <td><b><output type="text" id="initial_tank_L1_pressure_atm">--</output></b></td>
            <td><b>atm</b></td>
          </tr>
          <tr>   
            <td>Initial temperature</td>
            <td><output type="text" id="initial_system_temperature_k">--</output></td>
            <td>K</td>
          </tr>
          <tr>
            <td>Initial compressed air</th>
            <td><output type="text" id="initial_tank_L1_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>
            <td>Initial movements</td>
            <td><output type="text" id="initial_total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>

        <!-- Tank initial conditions (tank only) -->
        <table class="output">
          <tr><th colspan="3">--- Actuator mol loss ---</th></tr>    
          <tr>
            <td><b>Actuator mol loss</b></th>
            <td><b><output type="text" id="actuator_mol_loss" >--</output></b></td>
            <td><b>mol</b></td>
          </tr>
        </table>
        
        <!-- Remaining information -->
        <table class="output">
          <tr><th colspan="3">--- REMAINING ---</th></tr>
          <tr>
            <td>Remaining compressed air</th>
            <td><output type="text" id="remaining_air_mol" >--</output></td>
            <td>mol</td>
          </tr>
          <tr>   
            <td>Remaining pressure</td>
            <td><output type="text" id="remaining_pressure_atm">--</output></td>
            <td>atm</td>
          </tr>
          <tr>
            <td>Remaining movements</td>
            <td><output type="text" id="remaining_mov" >--</output></td>
            <td></td>
          </tr>
          <tr>
            <td>Total movements done</td>
            <td><output type="text" id="total_mov" >--</output></td>
            <td></td>
          </tr>
        </table>
        
        <!-- Movement ststs -->
        <table class="output">
          <tr><th colspan="3">--- STATS ---</th></tr>
          <tr>
            <td>Torpedo launches</td>
            <td><output type="text" id="torpedo_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Arm movements</td>
            <td><output type="text" id="arm_count"> 0 </output></td>
            <td></td>
          </tr>
          <tr>
            <td>Claw moves</td>
            <td><output type="text" id="claw_count"> 0 </output></td>
            <td></td>
          </tr>
        </table>   
      </div>

    </div>
  </body>
</html> 